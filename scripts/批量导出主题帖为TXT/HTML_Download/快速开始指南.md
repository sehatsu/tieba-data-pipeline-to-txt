# 🚀 快速开始指南 - HTML批量下载

## 📋 准备工作（5分钟）

### 第1步：安装依赖

```bash
pip install selenium webdriver-manager
```

**说明：**
- `selenium`: 浏览器自动化工具
- `webdriver-manager`: 自动管理浏览器驱动（推荐）

---

### 第2步：测试安装

```bash
python test_selenium.py
```

**如果看到：**
```
✓ 所有测试通过！Selenium安装成功！
```

说明安装成功，可以继续！

**如果失败：**
查看 `Selenium安装指南.md` 进行故障排除。

---

## 🎯 开始下载（自动化）

### 第3步：准备URL文件

确保 `urls.txt` 在当前文件夹，每行一个URL：
```
https://tieba.baidu.com/p/6184110114
https://tieba.baidu.com/p/6176709855
...
```

---

### 第4步：运行下载脚本

```bash
python download_html.py
```

**会提示：**
1. HTML保存位置（默认：`downloaded_html`）
2. 每页间隔秒数（默认：3秒）
3. 确认开始

**然后：**
- 浏览器会自动打开
- 自动访问每个URL
- 自动保存HTML
- 显示进度

---

## ⏱️ 时间估算

**您有696个URL：**
- 每个页面3秒 = 696 × 3秒 = **约35分钟**
- 如果改为5秒间隔 = **约58分钟**

**建议：**
- 首次运行用3秒测试
- 如果频繁出错，改为5秒

---

## 💡 使用技巧

### 断点续传

**如果中途中断（Ctrl+C）：**
- 进度会自动保存
- 下次运行自动从断点继续
- 不会重复下载已完成的页面

### 查看进度

在 `downloaded_html/` 文件夹中：
- `download_progress.json` - 进度记录
- `*.html` - 已下载的HTML文件

### 后台运行

如果不想看到浏览器窗口，编辑 `download_html.py`：

找到这行：
```python
# chrome_options.add_argument("--headless")
```

删除前面的 `#`：
```python
chrome_options.add_argument("--headless")
```

---

## 🚨 常见问题

### Q1: 浏览器没有自动打开？

**解决：**
- 检查是否安装Chrome浏览器
- 运行 `test_selenium.py` 诊断

### Q2: 提示需要登录？

**解决：**
脚本会使用您已登录的Chrome配置，但如果出现问题：

1. **关闭所有Chrome窗口**
2. **手动登录贴吧**
3. **重新运行脚本**

或者在脚本中手动设置cookies（高级用法）。

### Q3: 下载很慢？

**原因：**
- 每页间隔3秒是为了避免被封
- 696个页面需要约35分钟

**加快方法：**
- 减少间隔（不推荐，可能被封）
- 使用多线程（复杂，不推荐新手）

### Q4: 某些页面下载失败？

**不要紧：**
- 失败的URL会跳过
- 最后会显示失败数量
- 可以手动访问失败的URL

---

## ✅ 完成后的检查

下载完成后，检查 `downloaded_html/` 文件夹：

```bash
# 查看文件数量（Windows PowerShell）
(Get-ChildItem downloaded_html\*.html).Count

# 或手动检查文件夹
```

**应该有696个HTML文件**（或接近这个数字）。

---

## 🎯 下一步

HTML下载完成后，运行第二步脚本（我会创建）：
```bash
python parse_html.py
```

这会：
- 解析所有HTML文件
- 格式化成您要的格式
- 生成索引
- 按1MB分割文件

---

## 📞 遇到问题？

1. 查看 `Selenium安装指南.md`
2. 运行 `test_selenium.py` 诊断
3. 检查错误信息
4. 如果是特定页面失败，可能是网络问题或页面不存在

---

祝下载顺利！🎉
