# HTML转TXT工具 - 快速使用指南

## 🚀 快速开始（3步完成）

### 步骤1: 准备文件
将所有HTML文件和脚本放在同一个文件夹中，例如：
```
我的文件夹/
  ├── html_to_txt_v2.py
  ├── 运行转换工具.bat
  ├── file1.html
  ├── file2.html
  └── file3.html
```

### 步骤2: 运行脚本

**方法A - 双击批处理文件（推荐）：**
1. 双击 `运行转换工具.bat`
2. 按照提示操作即可

**方法B - 双击Python脚本：**
1. 双击 `html_to_txt_v2.py`
2. 输入HTML文件所在目录（直接回车表示当前目录）
3. 输入输出目录（直接回车使用默认目录）

**方法C - 命令行运行：**
```bash
# 打开命令提示符(CMD)，进入脚本所在目录
cd "C:\你的文件夹路径"

# 运行脚本（自动使用当前目录的HTML文件）
python html_to_txt_v2.py

# 或指定目录
python html_to_txt_v2.py -i "HTML文件夹路径" -o "输出文件夹路径"
```

### 步骤3: 查看结果
转换完成后，在 `txt_files` 文件夹中找到所有转换好的TXT文件。

---

## ❓ 常见问题解决

### Q1: 双击.py文件后窗口一闪而过
**解决方案：**
- 使用 `运行转换工具.bat` 代替直接双击.py文件
- 或者在命令行中运行脚本

### Q2: 提示"缺少beautifulsoup4"
**解决方案：**
打开命令提示符，运行：
```bash
pip install beautifulsoup4 lxml
```

### Q3: pip命令不可用
**解决方案：**
1. 确认已安装Python（建议3.11+版本）
2. 重新安装Python时勾选"Add Python to PATH"
3. 或使用完整路径：
   ```bash
   python -m pip install beautifulsoup4 lxml
   ```

### Q4: 找不到HTML文件
**解决方案：**
- 确保HTML文件和脚本在同一目录
- 或在交互模式中输入HTML文件的完整路径
- 检查文件扩展名是否为 `.html`

### Q5: 转换后的文件是乱码
**解决方案：**
- 脚本已自动处理UTF-8和GBK编码
- 如果仍有乱码，请用支持UTF-8的文本编辑器打开（如Notepad++、VS Code）

---

## 📊 转换流程说明

```
开始
  ↓
检查依赖库
  ↓
读取HTML文件列表
  ↓
逐个处理每个文件：
  ├─ 读取HTML内容
  ├─ 检测是否为404页面 → 是 → 跳过
  ├─ 提取标题和内容
  ├─ 清理HTML标签
  ├─ 保存为TXT文件
  └─ 显示处理进度
  ↓
显示统计结果
  ↓
完成
```

---

## 📁 文件说明

| 文件名 | 说明 |
|--------|------|
| `html_to_txt_v2.py` | 主程序脚本 |
| `运行转换工具.bat` | Windows快捷启动文件 |
| `txt_files/` | 默认输出目录（自动创建） |

---

## 💡 使用技巧

1. **批量处理大量文件**：直接将所有HTML文件放在一个文件夹，脚本会自动处理
2. **保留原文件**：脚本不会修改或删除原HTML文件
3. **断点续传**：如果中途中断，重新运行会跳过已转换的文件
4. **查看详细信息**：运行过程中会显示每个文件的处理状态

---

## 🔧 高级选项

### 命令行参数：
```bash
python html_to_txt_v2.py -i <输入目录> -o <输出目录>

参数说明：
  -i, --input   输入目录路径（包含HTML文件）
  -o, --output  输出目录路径（保存TXT文件）
  -h, --help    显示帮助信息
```

### 示例：
```bash
# 转换D盘的HTML文件到E盘
python html_to_txt_v2.py -i "D:\HTML文件" -o "E:\TXT输出"

# 转换桌面的文件
python html_to_txt_v2.py -i "C:\Users\用户名\Desktop\HTML" -o "C:\Users\用户名\Desktop\TXT"
```

---

## 📝 转换内容说明

每个TXT文件包含：
- ✅ 帖子标题
- ✅ 帖子描述
- ✅ 主要文本内容
- ✅ 用户回复
- ❌ 自动过滤：广告、导航、脚本代码

---

## 🎯 性能参考

| 文件数量 | 预计时间 |
|---------|---------|
| 10个文件 | ~5秒 |
| 100个文件 | ~30秒 |
| 695个文件 | ~2-3分钟 |

*实际时间取决于文件大小和电脑性能*

---

## ⚠️ 注意事项

1. **文件名冲突**：如果输出目录已有同名文件，会被覆盖
2. **特殊字符**：文件名中的特殊字符会保留
3. **404页面**：自动跳过已删除的帖子
4. **编码支持**：支持UTF-8和GBK编码

---

如有问题，请检查：
✓ Python版本是否3.6+
✓ 是否已安装beautifulsoup4
✓ HTML文件路径是否正确
✓ 是否有足够的磁盘空间

祝使用愉快！🎉
